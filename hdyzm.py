# -*- coding: utf-8 -*-
"""
-------------------------------------------------
   File Name：     
   Description :
   Author :       ianchen
   date：          
-------------------------------------------------
   Change Activity:
                   2018/04/02:
-------------------------------------------------
"""
import base64
from urllib.parse import urlparse
from urllib.parse import parse_qs
import requests
import re

import time
from suds.client import Client
import suds

session = requests.session()
add = session.get("http://dzswj.szgs.gov.cn/api/auth/queryTxUrl?json&_=1522658530831")
query = urlparse(add.json()['data']).query
d = dict([(k, v[0]) for k, v in parse_qs(query).items()])
sess_url = "https://captcha.guard.qcloud.com/cap_union_prehandle?aid=1252097171&asig={}&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81My4wLjI3ODUuMTA0IFNhZmFyaS81MzcuMzYgQ29yZS8xLjUzLjM0ODUuNDAwIFFRQnJvd3Nlci85LjYuMTIxOTAuNDAw&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=835414&forcestyle=undefined&collect=xV6XnEXCTYbfMkq3nBXtS0c%2FV5AAZtsYtOqYjNBVDwvu0DT8YIl0%2BdlKp2UjKu0nw9G%2FTRvlmFAxGhorC%2BMq4MBMdkhfEnITqxh7Bad0q7e0ffClmuKkyX15QuZqT42Ej1RCgowaxr6ltGKYPgkVX6Fx%2B9pf6brr%2FIXbyp5trWz5UYDqJQ%2B%2B%2But2YkbKEwsE7%2BazqQ7y1qM9HHGC28%2Bz0iWZ6bjExtUYlbSH1g7zqEuq1FbFd1O%2B6xFztsvzI8lPuYhqwh0zUf4%2Fitr4PxPMGPo7MwUy%2BiJzaG%2F7bPCPvGB%2F9hGrC5V6V9e0uad0iK0FDDhPn0Ge%2F8mMlN7BoJzFAXkNrG1Iax2r0YqqLCffVwuDr1pHyhpq8wySNEYl70BeaVWdeDhT5QQd9Sujkg4EeDp5AEKDKrcvEhfcXrmKVFsH35s0XsFRr67VOyfKi%2BGDuJz4xCXH66ySt2BTycTC55FdfQ0Ef5uTuNFLkPgki2x09ePD7cHJXV7T86%2FkP%2Fi9GSEXBOy31%2B%2BZuLYInfEeiZRbuNEBMwyPa1MNrIMnUun4Dk5m7qP3aaga3UV24bZEhNWE0rYX3XrKLCgcw1JyD%2BF%2B%2F%2BUwcrewMBKzWcceZULq033o9HCRVaDzWxeyUNc%2FYLoGmJBCAhKRuKI35yAcYPZvtfEb6s29jqgMRTNkxSvJfIEHvAdBFYs44%2Fkf0P%2FdwiIHol1TITJVsbmlNehuFt39dXR15aOxbd4L8rv6YxW2j3rxBkWhaZwhgFUR066icYpz6%2FYgcsYbCoSt1Vxaz%2Fu8Wm06dmvyElvOFW2gdQbQYez1ju5x%2FfPFRZR%2B%2FCgOGa7nu8iMQHabdKlwoCRFN5ZHmqRcs01mA4iFQg6MB10aI%2FeuwB4JmHufAT1l5gCWfs1HqJBMRt5flx9KOY0uRi7usyloLQXzXnnCkK%2BRx78gP5n7Ex0ciAVivXjqaxpQKpmgv94IplHxliSNfglULAYvzpr9kSS5saFYSNjP7w0HCyrbRbl6%2B2STCU1MKzRS8UxJ2anCrkyC4vfUeXZY6CIoGVsW9BloXO%2BD7ZSLBgZkPscWv%2FOt8TFywebfHm7YtMfjvCaWCnkT5MtkVrbTUp3vaycuMKB7z%2Fen7yfTP2vkEfmPWxQQtNDKjIKEGtno0EA0SSihw6pfk1hZHD%2BeOji0oQ4IHr2EjvXtibIvKLIOCLRMrMAlSxl%2Fy48utVt4LJa6%2BBLZhNzkuvbgoJL9ss1NZdIt7GIEOhY3HV%2FVnRbMv8zs7pKKqx5Mx%2BjQ61yCjmFHO6ldQrNuKb%2BMYKAennyD9XXd4hFguk13iFcb8luOyJvwg4%2BobY3X5lY975qsxK%2BYZfEwqNE7EatDGCqHCJnM23GdfMKq4ibSTMQe%2FOLziUHKZtI3x%2FvroZ4Fue0ygY5Lmt0cZCK7ik2Xu5U6jcxh1aegAFFzZh18aQPVyGL1Z%2B4Ugg4A0WDgkk0T%2Fzy6FRo8TWf0b%2BbN8Y6HEzty2HaRtU6y2SfifxTmo81uwqAV4GXhzwwNr2zJWoAFnL8pV1119CSXEcXeDxmTDnD4qMmgcBezHWthydUcK66XhZXIlwNQ6yoCTBS75ifUCD%2FImJfYPdClKurBU6MTIvHTIvhb5daodgCEJM%2BwQWPAGOs%2FjRrs7o2%2BopVMQLLDBqcyrDdJrI%2B1XM69Z5qXVxdhTVNayG22R545iv2tvafQr7Z4SAqJr6P7EYupMfgVTCuHyOMJEG0SJd4f3d4arqF%2Bg0gY5drdpJMp94P06X5YovTwldW3t8fIB2QhAqjSRCCr&firstvrytype=1&random=0.017271072963999323&_=1522664696316".format(
    d['asig'])
sess = session.get(sess_url)
vsig_url = "https://captcha.guard.qcloud.com/cap_union_new_show?aid=1252097171&asig={}&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81My4wLjI3ODUuMTA0IFNhZmFyaS81MzcuMzYgQ29yZS8xLjUzLjM0ODUuNDAwIFFRQnJvd3Nlci85LjYuMTIxOTAuNDAw&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=835414&forcestyle=undefined&rand=0.4457241752210961&sess={}&firstvrytype=1&showtype=point".format(
    d['asig'], sess.json()["sess"])
vsig_r = session.get(vsig_url)
ad = re.search("Q=\"(.*?)\"", vsig_r.text)
websig=re.search("websig\:\"(.*?)\"", vsig_r.text)
websig=websig.group(1)
vsig = ad.group(1)
image_url = "https://captcha.guard.qcloud.com/cap_union_new_getcapbysig?aid=1252097171&asig={}&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS81My4wLjI3ODUuMTA0IFNhZmFyaS81MzcuMzYgQ29yZS8xLjUzLjM0ODUuNDAwIFFRQnJvd3Nlci85LjYuMTIxOTAuNDAw&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=835414&forcestyle=undefined&rand=0.4457241752210961&sess={}&firstvrytype=1&showtype=point&rand=0.5730110856415294&vsig={}&img_index=1".format(
    d['asig'], sess.json()["sess"], vsig)
query_for_ticket = urlparse(image_url).query
ticket_d = dict([(k, v[0]) for k, v in parse_qs(query_for_ticket).items()])
resp = session.get(image_url)
con = str(base64.b64encode(resp.content))[2:-1]
client = suds.client.Client(url="http://39.108.112.203:8023/yzmmove.asmx?wsdl")
# client = suds.client.Client(url="http://192.168.18.101:1421/SZYZService.asmx?wsdl")
auto = client.service.GetYZCodeForDll(con)
time_l = str(int(time.time() * 1000))
ticket_url = 'https://captcha.guard.qcloud.com/cap_union_new_verify?random={}'.format(time_l)
# login_data = '{"aid":"1252097171","asig":"%s","captype":"","protocol":"https","clientype":"2","disturblevel":"",' \
#              '"apptype":"","curenv":"open","ua":%s,"uid":"","cap_cd":"","height":"40","lang":"2052","fb":"1","theme":"","rnd":"669593",' \
#              '"forcestyle": "undefined", ""rand": "0.9902325716079976","sess": "%s","firstvrytype":"1","showtype":"point","subcapclass":"10",' \
#              '"vsig":"%s","ans":"%s,70;","cdata":"76","abebef":"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","websig":"%s","fpinfo":"undefined","tlg":"1","vlg":"0_0_0","vmtime":"_","vmData":""}' % (ticket_d['asig'], ticket_d['ua'], ticket_d['sess'], ticket_d['vsig'],auto,websig)
# login_data = "aid=1252097171&asig=%s&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=%s&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=669593&' \
#              'forcestyle=undefined&rand=0.9902325716079976&sess=%s&firstvrytype=1&showtype=point&subcapclass=10&' \
#              'vsig=%s&ans=%s,70;&cdata=76&abebef=xV6XnEXCTYbfMkq3nBXtS0c/V5AAZtsYtOqYjNBVDwvu0DT8YIl0+dlKp2UjKu0nw9G/TRvlmFAxGhorC+Mq4FwH6wzddtruV+gqNla7q/x5oP58K7CsmA+rH6i59MjYVN5wEf12uhfEaFqztl84kU4aZiFZPbqY0ZWD00HcLEneezjhIQsclzTcfhUg67vK2v+9X+Jdc47lwZBfzM47aLpzTwUTr8Hltx7Ca8EJym+7hDPmMu8hamz50Q9e/1yxcajr3MPSArSJP11SA/nVy8WzIu4tt7ZxhisbxHYIAP70x999V2UZjncp2Pl3OZqKV/S+lF480aI3KJo2J9RE4eSz2pgBuFqmRPv+wBfB5Plh8NsvnI1ZrzG8jeVkD1OhYBibWDbAVfgUfWpPcLfjPf9y2Hwc632E25o6P0MoZJurfBJWgu8RiMJ1/ZYMwaWjlTEYGhtQDt3FdqQxZcxBs8mPG/HlUaLOwJl4PN4tbSK756f0zbyS3jJ/JCHCv+2dLNiW3Ec0xKmvbBCV2C5vKZp4Vw3UloiahcEL68JpxQKoj0EKjkdatpeioNELxWOWdT45C2mahpHVcSzqBWxgCBRBXl2QWtGt2aHE0xrYHYJchlkvcxxO1ldk4cXVjNkVPSflFSMWVnIbU3Od2pXFB4fF0xMpsOufPmOhe1MF8xFJ8xRk9hQeTGhgfcPDDs6uxOvUeU2AogNmZ3KuX5snF7WUMQR4+CvbIdnN0X0C94+s5JjRjaWgZ4ySYhRCDOBf4nz1y/blwzbZQF1JSnJYbU8vpFLKbD+esg+5/h0n0TeGlyIcMVYvzVr4lAFJNyOenAA9I/awOCV0GWwSxt/1O6M3ggaWc+TLv3LKCQmnv3Xy8hSQnznOoO5TOu8fSurZ2UuK3GoMDA/lBKyolf17YBQobBos4DqsVu+QQCJzsMY+1Rb9q8icrUeA6r7qE14V1Lwkf3gMKSsZzejDVOgvUxILczh78i/nXn9MQiDfgeqkLogwEJ8eG93u4HZnGfVRWM2I6IWxL2D/C0u1bARzEdG6jiS/wi/IAbLpzgq4id22wrOnub1jWjM+RxZnUhsTGJyzdczeVmwvpAPJfu5GrStWbqI6NrCqB1v3fVKmY+uMtDD/JgzaeGelLKtKKPy3czrEe3PNUKc8Rjpw8Di/OfpsdOYgIdvL2HphVFe1Jg6+ft4mtyYaVzt/ooMP43JdC/k5+STP8F+iidtoVN1nVANYKckblrw6gP8K0Q0Xi8FDl0PS94In7V8D3FOSEn23duWvbHCgfgq3TtDynCOC+4I54ecR5mgARWscI7RrqK9CgAZ7vDvmwDiPSCb5equVEy3hUYjT6l+VK8zIcsJfMysWOqMHMRQzQwH2zJqJLzb6LCMgF4pyaRa1RTmBpQh7CEobq4eOKFMo5qoSdt9880CrYE5slvfzM61jn/AltzvKTPtTzHZmWPoGyVFPlHDi525al+yffoEDWyQKcGKiCf+tDVgFpYukKoc70Mf1aQkSk+p+/FMXkRUk6+MVV1ELTvhCHff8Sz5diZw9NqXYHIGhI5EDZP22pLDNHaTO8/l8LGX495KFImbba+g16WoYzDcAPJ0tBuuOo1081LAmJl0Hzp7L1q2pO09qElEmJyJyFLum6aLxVbSQZrkbnLVM12VkihgRhnNJeWs85Ngcf1GXlm01mbsr9W6sLRanwaW2RiDeRO47/wO8bTNw6BwHu+NSu5uP/Lt28UAEvCCx2/lu9z/wKk3QbDYwN1pSuFm9c2wdVeScj9LL3zj74c5wkxBEWqoqsmZu1QKG9Np5HKfFrfZgiZqHQkbnku+6q8rLHTGWqqs+p5CFDbcvvuDWMJ+VPnuAcMMeDF+bUnqbniFhmZcJCxpnUC/i/N0yu4o9DRv9G+9qfTUkTBOPZn0D1tDOJxo69ROvuQqq2H3Wf8+PI8Vvrmh87VRlDIJ/abU4lVG916xFo4b3rOoKOEZUHO8IsPiUOwN3BV2zNmaPMY93CaS0bie3FnxjxFbPkGTF2xqZZrCKnRDHhSProC+jQYUiAMvPd2G7gGJtI1VEC/VE54MjPU145Undu6Zgww8w0M/dSJKtkABhcUEHEHnwj5TCJ9CyElXisdcrl+iBq9OoIUh/GWe9vwx1Bz70hVy6kcI7Dki59R86v44rBWxctaACjxBzk6ILqh/JR3tN4dVXCQdlOjYsFhRfh0nEYHXUZkU168N5u6ADwmMJuTgZylmd6Vp0glo5GGhDF4xK0hjhhhHmhSVy4dMrCsY5begJ/uXdg+S6E5IcnTbJ46klOLqliTtvfnfmyo6LXTXf/wfkcx0NlA8vXuuVh9zqlhiSPHzqMbQAfIrwaCJ2CPIGiob2GEaC8JZp4oy2R6pMtGgYYmWXetcpodvUgF3vzzufSaynRGIlDeNPxzFJsmVulwrWdXQxt3d6TUkq2BPuR1ymNRg3g0V2MBEFtfbP1qBsesXbTiFdupOxosViU6Qpku26CeU95GM9PuJB15AtboTePrq+0RAV2YBR5SLO3sVtu2QSSl6XEVmyWXBTe5yKZS3/tqIkEJE44ERpOIFR1rR2gr8fFs9VIzWl6u9x3CVAdRGOEA0AmlZgxt82eHTC2E98onkXoGCTMH2sQnujW91SmhiplDgXLJoU17K7ddoTEQIZpnPX3VVmi2+zrnnkiofcIGliNKXf881TF2V+hkq/iUoyQj74QlUc+5vR32oI31mJF3uHIhyY/W5tCTNIZDtNT39U3nUp3mMLOWpvvRFEbFkq5P0P35LBXFrgD6Sa4x95PAobyOf9QON6qRpuyZ0fLuTWi/78eHe6sZ3ZR4AY9oc0tWzwvrKpLXlGE5qlcEkaQ+K9I5Ph+YFd56ISKDUkt8pnv9bujL7rSFrdh4qmBUVswHuuguJ4XhGJCtY=&websig=%s&fpinfo=undefined&tlg=1&vlg=0_0_0&vmtime=_&vmData=" % (ticket_d['asig'],ticket_d['ua'],ticket_d['sess'], ticket_d['vsig'],auto,websig)
# login_data='aid=1252097171&asig=%s&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=%s&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=920179&forcestyle=undefined&rand=0.8945544557049063&sess=%s&firstvrytype=1&showtype=point&subcapclass=10&vsig=%s&ans=448,238;&cdata=95&abcbef=%s&websig=%s&fpinfo=undefined&tlg=1&vlg=0_0_0&vmtime=_&vmData='% (ticket_d['asig'],ticket_d['ua'],ticket_d['sess'], ticket_d['vsig'],auto,websig)
login_data='aid=1252097171&asig=hpLwkMyLrZ3Q-nnR1cbqgdJpC15OY4xCbLSJ6UJ0ezsnLtZdIaooQqkeHP2ju5IhSKmHyEf41MWk5V224FkYRBpcbUQehmd0&captype=&protocol=https&clientype=2&disturblevel=&apptype=&curenv=open&ua=TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IHJ2OjU5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTkuMA==&uid=&cap_cd=&height=40&lang=2052&fb=1&theme=&rnd=846062&forcestyle=undefined&rand=0.388811798088319&sess=XZ6hZYeDykLwSUBVIGt1J76oaw-iopduKElK3W-eq4tssvPxWKS00LkSSA9HiMm1GbiMJ2DgkO5hm4xMGR73WeMtuirqAe_inVu71EI6xVHocVIOkgLhMOKGvFVHou0ItIGuLzQXcZYGP_m-axqz5thKonlPUglosmX8mt3vuAu2mgddVVz0I-SHP2EG2Ja5&firstvrytype=1&showtype=point&subcapclass=10&vsig=b01zyuHFZJFCsiQ0lCuJ5ojB0jsZVfIHDdlMZSnlMdoIcKcUN2nqpTm0jZzxaHX0xqCn0E-q0OQgSZHpKRnZyfijSf0_oSK987STOgChHzXavrswjoFCsFCkw**&ans=478,72;&cdata=68&badbdd=xV6XnEXCTYbfMkq3nBXtS0c%2FV5AAZtsYtOqYjNBVDwvu0DT8YIl0%2BdlKp2UjKu0nw9G%2FTRvlmFAxGhorC%2BMq4MBMdkhfEnITqxh7Bad0q7dMPJosVO65Q2AVxj%2BkgLJh%2FTaoPHNhgurIR4JWgFk3313uYqQvbtCZfwvL%2FS59ZkuCki%2BModPpPSak%2FSOyDIL7CVyjnkb8RqL5qavB8Cx1SSZm5BI0B4Bf%2Bi%2FJehPa9EC1Ba%2F7SthJyRmr6iYHZPI%2BrSIXQN1dnaPr0PJoBN%2B3IA213MMRhVLoTYUPbYYJtl5CKxAr7xPzOB4dt5fIfv9qlgGG10y9WYiFBPL82mDw8SdGJYwFtK4EOXfZrCYpiHjcJavxuxHVBNLnkU%2BdSMzI%2F9PpJYdHOkmZ59BDwZ8ZnSzSk2HSczxAvmlCgT7sPItdyNT%2BwQbUc5jotfnf0GoFA%2BVAgJlMYNrg%2FO4H2XFUXUoZ%2BKCGFIid6yvf3FWJGZ1D%2B%2FRRmAwdCIQ9eacJ9eaKwhCzX4hMP1DrFSPCn8%2FocNCne39YzQwbyaGAG2XH7Lyes1P%2BZSWKMtuIjZdTpSjjYVjH3lx80TJKpzwz3pXCcmEMxL4oq9pPtEf0T9W7CsKppcydgsRCccTMSbUnnh4NdoNVTFd%2BK4mltJ6STCd%2FaUh%2BtiWZXPBXULGWIFTnTuaHXOv0mzoC3ut0ys8dFte7B%2BablMkoB%2Bi0kOai0U9kSlSG5%2FKsVxRK%2FTu13A3FnX%2FxgtFFasMCZoBFIoEkmOZMP7%2BxsHgKqEBZjCMd%2FUSCxiPS04MqM19nMjKJtZfR8O8U4n%2FSrPqA%2FFkdtomLARlszm6C7W2vi1OwCf9ETpGj1k0XEWZOpBAhQjrtvWy5FXMEHmFO9gTOWS9%2BzuG8jlUmhn70q5C5fjCJpE6BK47ImhTSp%2F3qB5Vj1dtTbcecS4nE39Bo%2FNbhM7c6gqdnbwCHF000MGe1zb%2FFCRHJxGgu1a0wyMWSG5%2BP4UGeYzLOgGCSxahV1IoKxteQUyW3XLIq8oVxQORal00aAeoVZEXXgS5eOHiZ2vfhPjuuHDck9ckrDNvu5rRXeRbyeWTmH91aKZfjLfT1PNopeiC3g2ibI7V6Y52XvGUMdP2JEAK8tGV36h6I00hTgA8nG54%2Bd9N8XAAheMVkzUHM0XJ078t9M1goS%2BzLbzfMI3xhQpS2tZxANRND8PrzDc%2Bc38ao2nlLl5nvnBQPF4cTkfJTPVeP1Y62SHMFZ5AtnooAPKOamZojrdTwfLu%2B54yNTwu8TctRvlitBqq11vN6HvacyZwlYGXlsigKflNR9QsHs24hhhOV2jvypWfJDEEF9Xb%2BYuss77CWUuqCBVXdolVysHFio1sqDec1ZfQpK1XSD7RBL9D01XlFLevLZueytfxrNFuSg%2B4BKRbUe2kJuQDl8O0fy%2F8NJg7HSs88jK4GgJbIedTkcCZTmV5FJ9eMi3kg8%2FqQ%2F3wm8WmaT4rO7NuaB%2BXRvQezA18%2BxJ4w3nu0k5Q%2FU9IYeO1AvJ8JBmBtLarNLCoFIAbVVIk4Ci8j36h%2FVnlVFr7F8NAgZf9U%2FVkPzgu7beA3qcf%2B%2Boc%2FSJJZhI3%2Biiz6a7GkVOtOqcNwyqP4mpoRKRCWI2aDSnhbPEj7%2FNhYccRgwSzVNrltmZhQHJcjoNa5FQGC7ahoAPOxavROSXRd%2FVif9WT8tg%2Fb%2FFinDdklhbfUXj0FHctyJw%2F6ijb%2FbvPuW%2FePlc2BcY07pKhaqKFVOmtF%2BPmVUCL8vdc2C%2F0qrbYI8XHvc3rQP7I8JY8usdU8TMUpAPTp1ZsyKje6I8cqx1GaLXUyy%2BC8U4GAf3k54WuQLDu%2FRvrBRH1c%2BPHZ1oK7lzvgoSYvKoZWDvX8bHVSj1c1OqjgWyzlrLrOW9MYaCI4dTCjX9hiQ37snzlnXkv8F0DcLz6i7lZhPEuumNjXFjFAEcY2MR3klWBah5xWOeAeg1RIK9bn3jZtMh4V2uwCd8ukWlqvHizPIDbZs3WgVx90F9oacQR7ANakyqJUpHAiKJ3ZZyMGHHJHzBdFwdvvUMpOq7Low%2BJuasjTQ3eNlxU6%2FG8LZOTYg1Wn3Ec2k%2FZiN1J4DX24L%2BUWmd7a%2B2lPZjBwS43XQTEmk8cmPw%2BSs05Ju4LG4nA0Vx5E9%2FOmyk%2B3bKHmsvNm3fiCJESXSglHRnPEjy5s9Tgg1daqB3XMCAsPn16CbS8LqLdA6J8bGM41m1cefwmhhc9EoaOZXIQhIkGIuFpyUeYhuEc%2B6Vrg5HBV8Zd0QWyE4k62q2EfhFRa%2FCxh%2FxxJmawr%2BsbATd99e4%2F6je%2BK6WAvG0zjzFEtR5%2BFoA75Mv0nWVyrfjrzOp3cAGe%2FgBijR6%2BVsHyE8d044OzS6VeVTS3csKrSOBWdcPXtUGJKzxsyG6h%2FSO2D70r5bdLivScev92mgToLbQB3dron1AZTktS6Yop%2FFwLLHlJC5%2FztVqgs7FUUMhjxViMj3pKaWj9pV%2Bl3XdUg6EjDzGX7x80S0IL2t5gt7G4t7PdS666cNyF2f9UODfy5gkgUrSdKiU3lAQBCUhVb1nlsvfTAGfoj0MmggsUf%2FXXz7C%2BNxNBTBwBfo2wlbo70hpphcesFBGlqvlWqOAEYIlZ2pnrQRKuLG663RDKI9M9%2F9rXuzrzfVQa9ftB8h1KibYKXmT6aF6Scs7l30mFXGzS4EyIk7H6Qz77wxG%2F2sMgP%2BU3rXX86sOGXSghCGqaIIuSJdC8yQwyYa4%2BGuhcCgNH9RUuMfytAm5FwQFgFlYI7lXbbYiuKdhJlLF1Ks5%2F%2BbCChfxwhh%2BlEzXAvDwfpRB%2F2UG35FFN6Yr8v59jaCR0HMSKj2qoP4bhK7qenJzKPo5k2vtkZsPc4yyI3x%2F2eh2SJeZg5jTTXNLqTtp8uubcyKdZql%2BS3DLw8Nf6lR2ibGgB%2BAXcJ60sSLBHKC6FvYSUBJtC%2BwE4hDchAD8T%2FeWGN7lGjx6Z69fTQah7FLINttntyhETl7a2mQQUZcapMBf19ZgbspWhNoa64buqUGOOV1hNZeqevZKFTiYhSdyTZCd%2FAz4OcfilY%2FW0GpukfFCqc&websig=dd02bec6c6d6a5d6f940de829503881dd03ca45e7a68e6877e73c60fa01abf38ef7c3cd76c6c4c3e35d53e879a46890f0525821a6a7ee03d51eeefb0a16cb71e&fpinfo=undefined&tlg=1&vlg=0_0_0&vmtime=_&vmData='
headers={'Host': 'captcha.guard.qcloud.com',
                       'Accept': 'application/json, text/javascript, */*; q=0.01',
                       'Accept-Language': 'zh-CN,zh;q=0.9',
                       'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
                        'Accept-Encoding': 'gzip, deflate, br',
                       'Referer': vsig_url,
                       'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36',
                       'X-Requested-With': 'XMLHttpRequest',
                       'Origin': 'https://captcha.guard.qcloud.com'}
tickek=session.post(ticket_url,data=login_data,headers=headers)
print(tickek.text)
